
<div class="login-box">
<h2>Upload file to share:</h2>
<form id="upload-form" action="/" method="POST" enctype="multipart/form-data">
  <div class="user-box">
    <input id="file-picker" type="file" name="image">
  </div>
    <a href="javascript:;" onclick="document.getElementById('upload-form').submit();">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      Generate
    </a>
</form>


<p id="message">{{message}}</p>
<hr>
<p>This app uploads a file to the blob storage and generates SAS URL with <strong>72 hours</strong> duration.</p>
<p>Files are automatically deleted after <strong>30 days</strong>.</p>
</div>
<script>
  document.addEventListener('DOMContentLoaded', () => {

    const message = document.getElementById('message');
    const picker = document.getElementById('file-picker');

    document.getElementById('upload-form').addEventListener('submit', (e) => {

      message.innerText = '';

      if(!picker.files.length) {
        message.innerText = 'Please select an image to upload.';
        e.preventDefault();
        return false;
      }
    });

  });
</script>